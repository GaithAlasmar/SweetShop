@model HomeViewModel

<!-- ═══════════════════════════════════════
     HERO CAROUSEL SLIDER
═══════════════════════════════════════ -->
<section class="hc-wrap" id="heroSlider" aria-label="بانر الصفحة الرئيسية">

    <!-- ── Slides ── -->
    <div class="hc-track" id="hcTrack">

        <!-- Slide 1 -->
        <div class="hc-slide hc-active" role="group" aria-label="الشريحة 1 من 3">
            <div class="hc-bg" style="background-image:url('@Url.Content("~/images/HomePic1.png")')"></div>
            <div class="hc-overlay hc-overlay-1"></div>
            <div class="hc-content">
                <span class="hc-tag hc-anim-in" data-i18n="hero.s1.tag">❖ حلويات الاسمر — منذ ١٩٩٥</span>
                <h1 class="hc-title hc-anim-in" style="animation-delay:.12s">
                    <span data-i18n="hero.s1.title">أصالة الحلويات</span><br>
                    <span class="hc-gold" data-i18n="hero.s1.title.gold">العربية</span>
                </h1>
                <p class="hc-sub hc-anim-in" style="animation-delay:.24s" data-i18n="hero.s1.sub">
                    من الكنافة النابلسية إلى البقلاوة الدمشقية<br>نصنع السعادة بكل قطعة
                </p>
                <div class="hc-btns hc-anim-in" style="animation-delay:.36s">
                    <a asp-controller="Product" asp-action="List" class="hc-btn-primary" data-i18n="hero.s1.btn1">
                        تصفح القائمة
                    </a>
                    <a asp-controller="Home" asp-action="Branches" class="hc-btn-ghost" data-i18n="hero.s1.btn2">
                        فروعنا
                    </a>
                </div>
            </div>
        </div>

        <!-- Slide 2 -->
        <div class="hc-slide" role="group" aria-label="الشريحة 2 من 3">
            <div class="hc-bg" style="background-image:url('@Url.Content("~/images/HomePic2.png")')"></div>
            <div class="hc-overlay hc-overlay-2"></div>
            <div class="hc-content">
                <span class="hc-tag hc-anim-in" data-i18n="hero.s2.tag">❖ كنافة طازجة يومياً</span>
                <h1 class="hc-title hc-anim-in" style="animation-delay:.12s">
                    <span data-i18n="hero.s2.title">الكنافة النابلسية</span><br>
                    <span class="hc-gold" data-i18n="hero.s2.title.gold">الأصيلة</span>
                </h1>
                <p class="hc-sub hc-anim-in" style="animation-delay:.24s" data-i18n="hero.s2.sub">
                    محشوّة بالجبن الطازج والقطر العربي الشهي<br>تُصنع أمامك كل يوم بحب واهتمام
                </p>
                <div class="hc-btns hc-anim-in" style="animation-delay:.36s">
                    <a asp-controller="Product" asp-action="List" class="hc-btn-primary" data-i18n="hero.s2.btn1">
                        اطلب الآن
                    </a>
                    <a asp-controller="Product" asp-action="Details" asp-route-id="1" class="hc-btn-ghost"
                        data-i18n="hero.s2.btn2">
                        تفاصيل
                    </a>
                </div>
            </div>
        </div>

        <!-- Slide 3 -->
        <div class="hc-slide" role="group" aria-label="الشريحة 3 من 3">
            <div class="hc-bg" style="background-image:url('@Url.Content("~/images/HomePic3.png")')"></div>
            <div class="hc-overlay hc-overlay-3"></div>
            <div class="hc-content">
                <span class="hc-tag hc-anim-in" data-i18n="hero.s3.tag">❖ هدايا المناسبات الخاصة</span>
                <h1 class="hc-title hc-anim-in" style="animation-delay:.12s">
                    <span data-i18n="hero.s3.title">هدايا تُعبّر</span><br>
                    <span class="hc-gold" data-i18n="hero.s3.title.gold">عن مشاعرك</span>
                </h1>
                <p class="hc-sub hc-anim-in" style="animation-delay:.24s" data-i18n="hero.s3.sub">
                    أطباق هدايا فاخرة للأعياد والمناسبات<br>بتغليف احترافي يُبهر من تحبهم
                </p>
                <div class="hc-btns hc-anim-in" style="animation-delay:.36s">
                    <a asp-controller="Product" asp-action="List" class="hc-btn-primary" data-i18n="hero.s3.btn1">
                        تصفح الهدايا
                    </a>
                    <a asp-controller="Orders" asp-action="SpecialOrder" class="hc-btn-ghost" data-i18n="hero.s3.btn2">
                        اطلب خاص
                    </a>
                </div>
            </div>
        </div>

    </div><!-- /hc-track -->

    <!-- ── Navigation Dots ── -->
    <div class="hc-dots" role="tablist" aria-label="التنقل بين الشرائح">
        <button class="hc-dot hc-dot-active" data-slide="0" role="tab" aria-selected="true"
            aria-label="الشريحة 1"></button>
        <button class="hc-dot" data-slide="1" role="tab" aria-selected="false" aria-label="الشريحة 2"></button>
        <button class="hc-dot" data-slide="2" role="tab" aria-selected="false" aria-label="الشريحة 3"></button>
    </div>

    <!-- ── Prev / Next arrows ── -->
    <button class="hc-arrow hc-arrow-next" id="hcNext" aria-label="الشريحة التالية">
        <i class="bi bi-chevron-right"></i>
    </button>
    <button class="hc-arrow hc-arrow-prev" id="hcPrev" aria-label="الشريحة السابقة">
        <i class="bi bi-chevron-left"></i>
    </button>

    <!-- ── Progress bar ── -->
    <div class="hc-progress" id="hcProgress"></div>

</section>



@{
    var productSections = new List<(string Title, IEnumerable<Product> Products)>
{
("حلويات عربية", Model.PreferredSweets.Where(p => p.Category?.Name == "حلويات عربية")),
("كنافة", Model.PreferredSweets.Where(p => p.Category?.Name == "كنافة")),
("بوظة", Model.IceCreamFavorites ?? new List<Product>()),
("حلويات غربية", Model.PreferredSweets.Where(p => p.Category?.Name == "الحلويات الغربية"))
};
}

@{
    int sectionIndex = 0;
}
@foreach (var prodSection in productSections.Where(s => s.Products != null && s.Products.Any()))
{
        <!-- ── Section Title ── -->
        <div class="hp-section-header" data-aos="fade-up">
            <h2 class="hp-section-title" data-i18n="@prodSection.Title">@prodSection.Title</h2>
            <div class="hp-title-line"></div>
        </div>

        <!-- ── Products Grid ── -->
        <div class="hp-products-grid">
        @{
            int cardDelay = 0;
        }
        @foreach (var sweet in prodSection.Products)
        {
                    <div class="hp-card" data-aos="fade-up" data-aos-delay="@cardDelay" data-aos-duration="650">
                        <!-- Image -->
                        <div class="hp-card-img-wrap">
                            <img src="@sweet.ImageUrl" alt="@sweet.Name" loading="lazy" />
                            <div class="hp-card-overlay">
                                <a asp-controller="Product" asp-action="Details" asp-route-id="@sweet.Id" class="hp-overlay-btn"
                                    title="عرض التفاصيل">
                                    <i class="fa-regular fa-eye"></i>
                                </a>
                                <a asp-controller="ShoppingCart" asp-action="AddToShoppingCart" asp-route-productId="@sweet.Id"
                                    class="hp-overlay-btn ajax-add-to-cart" title="أضف للسلة">
                                    <i class="fa-solid fa-cart-plus"></i>
                                </a>
                            </div>
                        </div>
                        <!-- Body -->
                        <div class="hp-card-body">
                            <span class="hp-card-cat" data-i18n="@prodSection.Title">@prodSection.Title</span>
                            <h5 class="hp-card-title" data-i18n="@sweet.Name">@sweet.Name</h5>
                            <p class="hp-card-desc" data-i18n="desc.@sweet.Name">@sweet.Description</p>
                        </div>
                        <!-- Footer -->
                        <div class="hp-card-footer">
                            <span class="hp-card-price" data-price="@sweet.Price">@sweet.Price.ToString("c")</span>
                            <a asp-controller="ShoppingCart" asp-action="AddToShoppingCart" asp-route-productId="@sweet.Id"
                                class="hp-btn-detail ajax-add-to-cart" data-i18n="card.addToCart">أضف إلى السلة</a>
                        </div>
                    </div>
            cardDelay += 80;
            if (cardDelay > 320) { cardDelay = 0; }
        }
        </div>
    sectionIndex++;
}


<div class="text-center mb-5 mt-5" style="position: relative;" data-aos="fade-up">
    <h2 class="display-4" style="color: #C7AE6A; font-weight: bold; font-family: 'Amiri', serif;"
        data-i18n="home.browseTitle">تصفح جميع الأقسام</h2>
    <p class="lead text-muted" data-i18n="home.browseSub">اكتشف تشكيلتنا الواسعة من الحلويات والهدايا</p>
</div>

@{
    var categoriesToShow = new[]
    {
"حلويات عربية",
"كنافة",
"الحلويات الغربية",
"الشوكلاتة والهدايا والمناسبات الخاصة",
"عبوات خاصة",
"البوظة"
};

    var categoryImages = new Dictionary<string, string>
{
{ "حلويات عربية", "/images/ArabicSweets.jpeg" },
{ "كنافة", "/images/Knafha1.jpeg" },
{ "الحلويات الغربية",
"https://images.unsplash.com/photo-1563729784474-d77dbb933a9e?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" },
{ "الشوكلاتة والهدايا والمناسبات الخاصة",
"https://images.unsplash.com/photo-1549465220-1a8b9238cd48?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" },
{ "عبوات خاصة",
"https://images.unsplash.com/photo-1606760227091-3dd870d97f1d?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" },
{ "البوظة",
"https://images.unsplash.com/photo-1497034825429-c343d7c6a68f?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" }
};

    var routeCategoryMap = new Dictionary<string, string>
{
{ "حلويات عربية", "Arabic Sweets" },
{ "كنافة", "Kunafa" },
{ "الحلويات الغربية", "Cakes" },
{ "الشوكلاتة والهدايا والمناسبات الخاصة", "Candies" },
{ "البوظة", "Ice Cream" }
};
}

<div class="row g-4 mb-5">
    @{
        int catDelay = 0;
    }
    @foreach (var catName in categoriesToShow)
    {
        var category = Model.Categories.FirstOrDefault(c => c.Name == catName);
        var imageUrl = categoryImages.ContainsKey(catName) ? categoryImages[catName] :
        "https://via.placeholder.com/400x300";
        var routeCat = routeCategoryMap.ContainsKey(catName) ? routeCategoryMap[catName] : catName;

            <div class="col-12 col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="@catDelay" data-aos-duration="650">
                <a asp-controller="Product" asp-action="List" asp-route-category="@routeCat" class="text-decoration-none">
                    <div class="card h-100 border-0 shadow-lg category-card overflow-hidden"
                        style="border-radius: 15px; transition: transform 0.3s ease;">
                        <div class="card-img-wrapper" style="height: 250px; overflow: hidden; position: relative;">
                            <!-- Gradient Overlay -->
                            <div
                                style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(to bottom, rgba(0,0,0,0.1), rgba(0,0,0,0.6)); z-index: 1;">
                            </div>
                            <img src="@imageUrl" class="card-img-top w-100 h-100" alt="@catName"
                                style="object-fit: cover; transition: transform 0.5s ease;">
                        </div>
                        <div class="card-img-overlay d-flex align-items-end justify-content-center" style="z-index: 2;">
                            <h3 class="text-white text-center mb-3"
                                style="text-shadow: 2px 2px 4px rgba(0,0,0,0.7); font-weight: bold; letter-spacing: 1px;"
                                data-i18n="@catName">
                            @catName
                            </h3>
                        </div>
                    </div>
                </a>
            </div>
        catDelay += 100;
        if (catDelay > 400) { catDelay = 0; }
    }
</div>

<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />

<style>
    /* ── Category Cards (unchanged behaviour) ── */
    .category-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 1rem 3rem rgba(0, 0, 0, .175) !important;
    }

    .category-card:hover img {
        transform: scale(1.1);
    }

    /* ══════════════════════════════════════════
       PRODUCT CARDS  –  Homepage
    ══════════════════════════════════════════ */
    :root {
        --hp-primary: #1A8CB0;
        --hp-primary-dk: #136a87;
        --hp-gold: #C7AE6A;
        --hp-border: #ddeef6;
        --hp-shadow-sm: 0 2px 12px rgba(26, 140, 176, .10);
        --hp-shadow-hover: 0 18px 42px rgba(26, 140, 176, .22);
        --hp-radius: 16px;
        --hp-trans: 0.32s cubic-bezier(.4, 0, .2, 1);
    }

    /* Section header */
    .hp-section-header {
        text-align: center;
        margin: 48px 0 28px;
    }

    .hp-section-title {
        font-size: clamp(1.5rem, 3vw, 2.2rem);
        font-weight: 800;
        color: var(--hp-primary-dk);
        margin-bottom: 10px;
    }

    .hp-title-line {
        width: 58px;
        height: 4px;
        background: linear-gradient(90deg, var(--hp-primary), var(--hp-gold));
        border-radius: 99px;
        margin: 0 auto;
    }

    /* Grid — 4 columns fixed */
    .hp-products-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 24px;
        margin-bottom: 20px;
        padding: 0 30px;
    }

    /* Card */
    .hp-card {
        background: #fff;
        border-radius: var(--hp-radius);
        border: 2px solid var(--hp-border);
        box-shadow: var(--hp-shadow-sm);
        display: flex;
        flex-direction: column;
        overflow: hidden;
        transition: transform var(--hp-trans),
            box-shadow var(--hp-trans),
            border-color var(--hp-trans);
    }

    .hp-card:hover {
        transform: translateY(-10px);
        box-shadow: var(--hp-shadow-hover);
        border-color: var(--hp-primary);
    }

    /* Image */
    .hp-card-img-wrap {
        position: relative;
        height: 200px;
        overflow: hidden;
        padding: 12px 12px 0 12px;
        background-color: #fff;
    }

    .hp-card-img-wrap img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 10px;
        transition: transform .5s ease;
    }

    .hp-card:hover .hp-card-img-wrap img {
        transform: scale(1.07);
    }

    /* Overlay */
    .hp-card-overlay {
        position: absolute;
        top: 12px;
        left: 12px;
        right: 12px;
        bottom: 0;
        background: linear-gradient(to top, rgba(26, 140, 176, .38), transparent);
        border-radius: 10px;
        opacity: 0;
        display: flex;
        align-items: flex-end;
        justify-content: center;
        gap: 10px;
        padding-bottom: 14px;
        transition: opacity var(--hp-trans);
    }

    .hp-card:hover .hp-card-overlay {
        opacity: 1;
    }

    .hp-overlay-btn {
        width: 38px;
        height: 38px;
        border-radius: 50%;
        background: #fff;
        color: var(--hp-primary);
        display: grid;
        place-items: center;
        font-size: .95rem;
        text-decoration: none;
        box-shadow: 0 2px 8px rgba(0, 0, 0, .18);
        transition: background var(--hp-trans), color var(--hp-trans);
    }

    .hp-overlay-btn:hover {
        background: var(--hp-primary);
        color: #fff;
    }

    /* Body */
    .hp-card-body {
        padding: 16px 18px 8px;
        display: flex;
        flex-direction: column;
        gap: 6px;
        flex: 1;
    }

    .hp-card-cat {
        font-size: .7rem;
        font-weight: 700;
        color: var(--hp-primary);
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    .hp-card-title {
        font-size: 1rem;
        font-weight: 700;
        color: #1a2b38;
        line-height: 1.4;
        margin: 0;
    }

    .hp-card-desc {
        font-size: .8rem;
        color: #6b8fa6;
        line-height: 1.65;
        margin: 0;
    }

    /* Footer */
    .hp-card-footer {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 12px 18px;
        border-top: 1px solid var(--hp-border);
        gap: 10px;
    }

    .hp-card-price {
        font-size: 1.1rem;
        font-weight: 800;
        color: var(--hp-primary-dk);
    }

    /* Button — colour changes on card hover */
    .hp-btn-detail {
        padding: 8px 18px;
        border-radius: 50px;
        border: 2px solid var(--hp-primary);
        background: transparent;
        color: var(--hp-primary);
        font-size: .82rem;
        font-weight: 700;
        text-decoration: none;
        white-space: nowrap;
        transition: background var(--hp-trans), color var(--hp-trans), box-shadow var(--hp-trans);
    }

    .hp-card:hover .hp-btn-detail {
        background: var(--hp-primary);
        color: #fff;
        box-shadow: 0 4px 14px rgba(26, 140, 176, .35);
    }

    /* Responsive */
    @@media (max-width: 992px) {
        .hp-products-grid {
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }
    }

    @@media (max-width: 576px) {
        .hp-products-grid {
            grid-template-columns: 1fr;
            gap: 16px;
        }
    }

    /* ═══════════════════════════════════════
       HERO CAROUSEL
    ═══════════════════════════════════════ */

    /* ── Wrapper ── */
    .hc-wrap {
        position: relative;
        width: 100%;
        height: 92vh;
        min-height: 560px;
        overflow: hidden;
        direction: rtl;
        background: #0a1e32;
    }

    /* ── Track (holds all slides stacked) ── */
    .hc-track {
        position: relative;
        width: 100%;
        height: 100%;
    }

    /* ── Single slide ── */
    .hc-slide {
        position: absolute;
        inset: 0;
        opacity: 0;
        pointer-events: none;
        transition: opacity 1s ease;
        z-index: 0;
    }

    .hc-slide.hc-active {
        opacity: 1;
        pointer-events: auto;
        z-index: 1;
    }

    /* ── Background photo ── */
    .hc-bg {
        position: absolute;
        inset: 0;
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        transform: scale(1.05);
        transition: transform 6.5s ease-out;
    }

    .hc-slide.hc-active .hc-bg {
        transform: scale(1);
    }

    /* ── Gradient overlays (unique per slide) ── */
    .hc-overlay {
        position: absolute;
        inset: 0;
        z-index: 1;
    }

    /* Slide 1: deep teal from right */
    .hc-overlay-1 {
        background: linear-gradient(to left,
                rgba(13, 78, 105, .85) 0%,
                rgba(10, 30, 50, .55) 45%,
                rgba(0, 0, 0, .10) 100%);
    }

    /* Slide 2: warm dark from bottom */
    .hc-overlay-2 {
        background: linear-gradient(to top,
                rgba(30, 20, 10, .90) 0%,
                rgba(10, 30, 50, .50) 50%,
                rgba(0, 0, 0, .08) 100%);
    }

    /* Slide 3: rich dark-blue from left */
    .hc-overlay-3 {
        background: linear-gradient(to right,
                rgba(10, 20, 50, .88) 0%,
                rgba(20, 50, 80, .50) 50%,
                rgba(0, 0, 0, .08) 100%);
    }

    /* ── Content block ── */
    .hc-content {
        position: absolute;
        inset: 0;
        z-index: 2;
        display: flex;
        flex-direction: column;
        align-items: flex-end;
        /* RTL: align right */
        justify-content: center;
        padding: 0 7% 80px;
        max-width: 700px;
        margin-right: 0;
    }

    /* ── Content Entry animations ── fade-down (ينزل من الأعلى) ── */
    .hc-anim-in {
        opacity: 0;
        transform: translateY(-32px);
        /* يبدأ من الأعلى */
        animation: none;
    }

    .hc-slide.hc-active .hc-anim-in {
        animation: hcFadeDown 0.80s cubic-bezier(.22, .61, .36, 1) forwards;
    }

    @@keyframes hcFadeDown {
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* ── Tag pill ── */
    .hc-tag {
        display: inline-block;
        background: rgba(255, 255, 255, .14);
        border: 1px solid rgba(255, 255, 255, .32);
        backdrop-filter: blur(8px);
        color: #f0e6c8;
        font-size: .75rem;
        font-weight: 700;
        letter-spacing: 2px;
        padding: 6px 20px;
        border-radius: 50px;
        margin-bottom: 18px;
        animation-delay: .0s !important;
    }

    /* ── Title ── */
    .hc-title {
        font-size: clamp(2rem, 5.5vw, 4rem);
        font-weight: 900;
        color: #fff;
        line-height: 1.20;
        margin-bottom: 16px;
        text-shadow: 0 3px 28px rgba(0, 0, 0, .40);
        text-align: right;
    }

    .hc-gold {
        color: #C7AE6A;
    }

    /* ── Sub text ── */
    .hc-sub {
        font-size: clamp(.88rem, 1.8vw, 1.08rem);
        color: rgba(255, 255, 255, .82);
        line-height: 1.90;
        margin-bottom: 32px;
        text-align: right;
    }

    /* ── Buttons ── */
    .hc-btns {
        display: flex;
        gap: 12px;
        flex-wrap: wrap;
        justify-content: flex-end;
    }

    .hc-btn-primary {
        padding: 13px 32px;
        border-radius: 50px;
        background: linear-gradient(135deg, #1A8CB0 0%, #22b8e4 100%);
        color: #fff;
        font-weight: 800;
        font-size: .95rem;
        text-decoration: none;
        box-shadow: 0 6px 22px rgba(26, 140, 176, .50);
        display: inline-flex;
        align-items: center;
        gap: 7px;
        transition: transform .28s ease, box-shadow .28s ease;
    }

    .hc-btn-primary:hover {
        color: #fff;
        transform: translateY(-3px);
        box-shadow: 0 12px 32px rgba(26, 140, 176, .60);
    }

    .hc-btn-ghost {
        padding: 12px 28px;
        border-radius: 50px;
        border: 2px solid rgba(255, 255, 255, .55);
        color: #fff;
        font-weight: 700;
        font-size: .95rem;
        text-decoration: none;
        backdrop-filter: blur(6px);
        background: rgba(255, 255, 255, .08);
        display: inline-flex;
        align-items: center;
        gap: 7px;
        transition: background .28s, border-color .28s, transform .28s;
    }

    .hc-btn-ghost:hover {
        background: rgba(255, 255, 255, .18);
        border-color: #C7AE6A;
        color: #fff;
        transform: translateY(-3px);
    }

    /* ── Navigation Dots ── */
    .hc-dots {
        position: absolute;
        bottom: 30px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        gap: 10px;
        z-index: 10;
    }

    .hc-dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        border: 2px solid rgba(255, 255, 255, .6);
        background: transparent;
        cursor: pointer;
        padding: 0;
        transition: background .3s, transform .3s, width .35s, border-radius .35s;
    }

    .hc-dot.hc-dot-active {
        background: #C7AE6A;
        border-color: #C7AE6A;
        width: 28px;
        border-radius: 99px;
    }

    /* ── Arrows ── */
    .hc-arrow {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        z-index: 10;
        width: 48px;
        height: 48px;
        border-radius: 50%;
        border: 2px solid rgba(255, 255, 255, .40);
        background: rgba(255, 255, 255, .10);
        color: #fff;
        font-size: 1.1rem;
        cursor: pointer;
        display: grid;
        place-items: center;
        backdrop-filter: blur(6px);
        transition: background .28s, border-color .28s, transform .28s;
    }

    .hc-arrow:hover {
        background: rgba(199, 174, 106, .30);
        border-color: #C7AE6A;
        transform: translateY(-50%) scale(1.08);
    }

    .hc-arrow-next {
        right: 24px;
    }

    .hc-arrow-prev {
        left: 24px;
    }

    /* ── Progress bar ── */
    .hc-progress {
        position: absolute;
        bottom: 0;
        left: 0;
        height: 3px;
        background: linear-gradient(90deg, #1A8CB0, #C7AE6A);
        width: 0%;
        z-index: 10;
        border-radius: 0 2px 2px 0;
    }

    /* ── Responsive ── */
    @@media (max-width: 768px) {
        .hc-wrap {
            height: 78vh;
        }

        .hc-content {
            padding: 0 5% 70px;
            align-items: center;
            text-align: center;
            max-width: 100%;
        }

        .hc-title,
        .hc-sub {
            text-align: center;
        }

        .hc-btns {
            justify-content: center;
        }

        .hc-arrow {
            display: none;
        }
    }

    @@media (max-width: 480px) {
        .hc-wrap {
            height: 72vh;
            min-height: 480px;
        }

        .hc-btns {
            flex-direction: column;
            align-items: center;
            width: 100%;
        }

        .hc-btn-primary,
        .hc-btn-ghost {
            width: 100%;
            justify-content: center;
        }
</style>

@section Scripts {
        <script>
            $(document).ready(function () {

                /* ═══════════════════════════════════════
                   HERO CAROUSEL
                ═══════════════════════════════════════ */
                var slides = document.querySelectorAll('.hc-slide');
                var dots = document.querySelectorAll('.hc-dot');
                var progress = document.getElementById('hcProgress');
                var DURATION = 5000;
                var current = 0;
                var timer = null;

                if (!slides.length) return;

                /* ── Activate a slide ─────────────────── */
                function goTo(idx) {
                    idx = ((idx % slides.length) + slides.length) % slides.length;
                    if (idx === current) return;

                    /* reset outgoing text animations */
                    slides[current].querySelectorAll('.hc-anim-in').forEach(function (el) {
                        el.style.animation = 'none';
                        void el.offsetHeight; // reflow
                    });

                    slides[current].classList.remove('hc-active');
                    dots[current].classList.remove('hc-dot-active');
                    dots[current].setAttribute('aria-selected', 'false');

                    current = idx;

                    slides[current].classList.add('hc-active');
                    dots[current].classList.add('hc-dot-active');
                    dots[current].setAttribute('aria-selected', 'true');

                    /* retrigger incoming text animations */
                    slides[current].querySelectorAll('.hc-anim-in').forEach(function (el) {
                        el.style.animation = '';
                    });

                    startProgress();
                }

                /* ── Progress bar ─────────────────────── */
                function startProgress() {
                    if (!progress) return;
                    progress.style.transition = 'none';
                    progress.style.width = '0%';
                    void progress.offsetHeight;
                    progress.style.transition = 'width ' + DURATION + 'ms linear';
                    progress.style.width = '100%';
                }

                /* ── Auto-play ────────────────────────── */
                function startAuto() {
                    clearInterval(timer);
                    timer = setInterval(function () { goTo(current + 1); }, DURATION);
                }
                function stopAuto() { clearInterval(timer); }

                /* ── Dots ─────────────────────────────── */
                dots.forEach(function (dot) {
                    dot.addEventListener('click', function () {
                        goTo(parseInt(this.getAttribute('data-slide'), 10));
                        stopAuto(); startAuto();
                    });
                });

                /* ── Arrows ───────────────────────────── */
                var btnNext = document.getElementById('hcNext');
                var btnPrev = document.getElementById('hcPrev');
                if (btnNext) {
                    btnNext.addEventListener('click', function () {
                        goTo(current + 1); stopAuto(); startAuto();
                    });
                }
                if (btnPrev) {
                    btnPrev.addEventListener('click', function () {
                        goTo(current - 1); stopAuto(); startAuto();
                    });
                }

                /* ── Touch swipe ──────────────────────── */
                var touchX = 0;
                var wrap = document.getElementById('heroSlider');
                if (wrap) {
                    wrap.addEventListener('touchstart', function (e) {
                        touchX = e.changedTouches[0].clientX;
                    }, { passive: true });
                    wrap.addEventListener('touchend', function (e) {
                        var diff = touchX - e.changedTouches[0].clientX;
                        if (Math.abs(diff) > 40) {
                            goTo(diff > 0 ? current + 1 : current - 1);
                            stopAuto(); startAuto();
                        }
                    }, { passive: true });
                }

                /* ── Pause on hover ───────────────────── */
                if (wrap) {
                    wrap.addEventListener('mouseenter', stopAuto);
                    wrap.addEventListener('mouseleave', startAuto);
                }

                /* ── Keyboard ─────────────────────────── */
                document.addEventListener('keydown', function (e) {
                    if (e.key === 'ArrowLeft') { goTo(current - 1); stopAuto(); startAuto(); }
                    if (e.key === 'ArrowRight') { goTo(current + 1); stopAuto(); startAuto(); }
                });

                /* ── Init: start from slide 0 ─────────── */
                startProgress();
                startAuto();
            });
        </script>
}



