/* إعدادات عامة */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  min-height: 100vh;
  /* direction is handled by html[dir] attribute */
}

.app {
  min-height: 100vh;
  background: var(--bg-color);
}

/* رأس الصفحة */
.dashboard-header {
  background: var(--primary-gradient);
  color: white;
  padding: 2rem;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.header-content {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.header-top {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.header-content h1 {
  font-size: 2rem;
  font-weight: 700;
}

.header-subtitle {
  opacity: 0.9;
  font-size: 1rem;
}

/* زر تغيير اللغة */
.language-toggle {
  background: rgba(255, 255, 255, 0.2);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  padding: 0.5rem 1rem;
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-family: inherit;
  font-weight: 600;
  backdrop-filter: blur(4px);
  transition: background 0.2s;
}

.language-toggle:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* حاوية لوحة التحكم */
.dashboard-container {
  display: flex;
  gap: 1.5rem;
  padding: 2rem;
  max-width: 1600px;
  margin: 0 auto;
}

/* الشريط الجانبي */
.sidebar {
  width: 280px;
  flex-shrink: 0;
}

.main-content {
  flex: 1;
  min-width: 0;
}

/* بطاقات الإحصائيات */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin-bottom: 2rem;
}

.stat-card {
  background: white;
  border-radius: 16px;
  padding: 1.5rem;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.stat-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 12px 20px rgba(0, 0, 0, 0.1);
}

.stat-card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

.stat-icon {
  width: 50px;
  height: 50px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
}

.stat-trend {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  font-size: 0.875rem;
  font-weight: 600;
  padding: 0.25rem 0.75rem;
  border-radius: 20px;
}

.stat-trend.positive {
  background: #d1fae5;
  color: #065f46;
}

.stat-trend.negative {
  background: #fee2e2;
  color: #991b1b;
}

.stat-content {
  margin-top: 1rem;
}

.stat-title {
  color: var(--text-muted);
  font-size: 0.875rem;
  font-weight: 500;
  margin-bottom: 0.5rem;
}

.stat-value {
  font-size: 1.75rem;
  font-weight: 700;
  color: var(--text-color);
}

/* الرسوم البيانية */
.charts-grid {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.chart-row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
  gap: 1.5rem;
}

.chart-card {
  background: white;
  border-radius: 16px;
  padding: 1.5rem;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
}

.chart-header {
  margin-bottom: 1.5rem;
}

.chart-header h2 {
  font-size: 1.25rem;
  color: var(--text-color);
  margin-bottom: 0.25rem;
}

.chart-subtitle {
  color: var(--text-muted);
  font-size: 0.875rem;
}

.chart-container {
  padding: 1rem 0;
  direction: ltr;
  /* Charts often perform better in LTR mode internally */
}

/* تنبيهات المخزون */
.alerts-container {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  max-height: 400px;
  overflow-y: auto;
  /* Use logical property for padding-right equivalent */
  padding-inline-end: 0.5rem;
}

.alerts-container::-webkit-scrollbar {
  width: 6px;
}

.alerts-container::-webkit-scrollbar-track {
  background: #f3f4f6;
  border-radius: 10px;
}

.alerts-container::-webkit-scrollbar-thumb {
  background: #d1d5db;
  border-radius: 10px;
}

.alert-card {
  display: flex;
  gap: 1rem;
  padding: 1rem;
  border-radius: 12px;
  /* Logical Property: border-left -> border-inline-start */
  border-inline-start: 4px solid;
  transition: transform 0.2s ease;
}

.alert-card:hover {
  /* Dynamic transform based on direction: -5px * 1 (LTR) or -1 (RTL) */
  transform: translateX(calc(-5px * var(--dir-factor)));
}

.alert-card.critical {
  background: #fef2f2;
  border-color: #ef4444;
}

.alert-card.warning {
  background: #fffbeb;
  border-color: #f59e0b;
}

.alert-icon {
  flex-shrink: 0;
  width: 40px;
  height: 40px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.alert-card.critical .alert-icon {
  background: #fee2e2;
  color: #dc2626;
}

.alert-card.warning .alert-icon {
  background: #fef3c7;
  color: #d97706;
}

.alert-content {
  flex: 1;
}

.alert-content h4 {
  font-size: 1rem;
  color: var(--text-color);
  margin-bottom: 0.25rem;
}

.alert-category {
  color: var(--text-muted);
  font-size: 0.75rem;
  margin-bottom: 0.5rem;
}

.stock-info {
  display: flex;
  gap: 1rem;
  font-size: 0.875rem;
  margin-bottom: 0.5rem;
}

.current-stock {
  color: #374151;
}

.min-stock {
  color: var(--text-muted);
}

.stock-bar {
  width: 100%;
  height: 6px;
  background: #e5e7eb;
  border-radius: 10px;
  overflow: hidden;
}

.stock-progress {
  height: 100%;
  background: linear-gradient(90deg, #ef4444 0%, #f59e0b 100%);
  border-radius: 10px;
  transition: width 0.3s ease;
  /* Keep background direction logic or flip it? Linear gradient usually follows 'to right' */
  /* If in RTL we want it to fill from right, we just use logical width, and browser handles it?
     No, background-gradients are physical. 90deg is Left-to-Right.
     In RTL, usually progress bars fill from Right-to-Left. 
     We might want to reverse the gradient or use logical direction.
     But 'width' fills from Start. So in RTL it fills from Right. 
     The gradient 90deg (Red -> Orange) goes Left -> Right.
     If compiled in RTL, the bar fills from Right. The Red starts at Left (End of bar). 
     So the "filled" part will look weird if the gradient is fixed 90deg.
     We should use 'to right' (physical) or use a variable. */
}

[dir="rtl"] .stock-progress {
  background: linear-gradient(270deg, #ef4444 0%, #f59e0b 100%);
}

.alert-badge {
  flex-shrink: 0;
  padding: 0.25rem 0.75rem;
  border-radius: 20px;
  font-size: 0.75rem;
  font-weight: 600;
  align-self: flex-start;
}

.alert-card.critical .alert-badge {
  background: #dc2626;
  color: white;
}

.alert-card.warning .alert-badge {
  background: #f59e0b;
  color: white;
}

.empty-state {
  text-align: center;
  padding: 3rem;
  color: var(--text-muted);
}

/* لوحة الفلاتر */
.filter-panel {
  background: white;
  border-radius: 16px;
  padding: 1.5rem;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
  position: sticky;
  top: 2rem;
}

.filter-header {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 1.5rem;
  color: var(--text-color);
}

.filter-header h3 {
  font-size: 1.125rem;
}

.filter-group {
  margin-bottom: 1.25rem;
}

.filter-group label {
  display: block;
  font-size: 0.875rem;
  font-weight: 600;
  color: #374151;
  margin-bottom: 0.5rem;
}

.filter-group select {
  width: 100%;
  padding: 0.75rem;
  border: 2px solid #e5e7eb;
  border-radius: 8px;
  font-size: 0.875rem;
  background: white;
  cursor: pointer;
  transition: border-color 0.2s ease;
}

.filter-group select:focus {
  outline: none;
  border-color: #667eea;
}

.reset-btn {
  width: 100%;
  padding: 0.75rem;
  background: var(--primary-gradient);
  color: white;
  border: none;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.reset-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
}

/* تصميم متجاوب */
@media (max-width: 1024px) {
  .dashboard-container {
    flex-direction: column;
  }

  .sidebar {
    width: 100%;
  }

  .filter-panel {
    position: static;
  }

  .chart-row {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: 1fr;
  }

  .dashboard-header {
    padding: 1.5rem;
  }

  .header-content h1 {
    font-size: 1.5rem;
  }

  .header-top {
    flex-direction: column;
    align-items: flex-start;
    gap: 1rem;
  }

  .language-toggle {
    margin-top: 0.5rem;
  }

  .dashboard-container {
    padding: 1rem;
  }
}